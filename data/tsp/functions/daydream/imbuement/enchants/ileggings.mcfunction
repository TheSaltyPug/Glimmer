#> tsp:daydream/imbuement/enchants/ileggings
execute as @e[tag=tsp.dd.crafting.imbuement.id.ileggings] run scoreboard players remove @s tsp.dd.imbueTime 1
execute as @s[tag=tsp.dd.crafting.imbuement.id.ileggings,scores={tsp.dd.imbueTime=95}] store success score @s tsp.success if entity @e[type=item_frame,tag=!tsp.dd.crafting.imbuement.imbuer,distance=..6,limit=1,nbt={Item:{id:"minecraft:anvil"}}] as @e[type=item_frame,tag=!tsp.dd.crafting.imbuement.imbuer,distance=..6,limit=1,nbt={Item:{id:"minecraft:anvil"}}] run function tsp:daydream/imbuement/enchants/remove_item
execute as @s[tag=tsp.dd.crafting.imbuement.id.ileggings,scores={tsp.dd.imbueTime=70,tsp.success=1}] store success score @s tsp.success if entity @e[type=item_frame,tag=!tsp.dd.crafting.imbuement.imbuer,distance=..6,limit=1,nbt={Item:{id:"minecraft:rabbit_foot"}}] as @e[type=item_frame,tag=!tsp.dd.crafting.imbuement.imbuer,distance=..6,limit=1,nbt={Item:{id:"minecraft:rabbit_foot"}}] run function tsp:daydream/imbuement/enchants/remove_item
execute as @s[tag=tsp.dd.crafting.imbuement.id.ileggings,scores={tsp.dd.imbueTime=45,tsp.success=1}] store success score @s tsp.success if entity @e[type=item_frame,tag=!tsp.dd.crafting.imbuement.imbuer,distance=..6,limit=1,nbt={Item:{id:"minecraft:end_crystal"}}] as @e[type=item_frame,tag=!tsp.dd.crafting.imbuement.imbuer,distance=..6,limit=1,nbt={Item:{id:"minecraft:end_crystal"}}] run function tsp:daydream/imbuement/enchants/remove_item
execute as @s[tag=tsp.dd.crafting.imbuement.id.ileggings,scores={tsp.dd.imbueTime=20,tsp.success=1}] store success score @s tsp.success if entity @e[type=item_frame,tag=!tsp.dd.crafting.imbuement.imbuer,distance=..6,limit=1,nbt={Item:{id:"minecraft:diamond",tag:{CustomModelData:1630005}}}] as @e[type=item_frame,tag=!tsp.dd.crafting.imbuement.imbuer,distance=..6,limit=1,nbt={Item:{id:"minecraft:diamond",tag:{CustomModelData:1630005}}}] run function tsp:daydream/imbuement/enchants/remove_item
execute as @s[tag=tsp.dd.crafting.imbuement.id.ileggings,scores={tsp.dd.imbueTime=0,tsp.success=1}] run function tsp:daydream/imbuement/enchants/remove_item
execute as @s[tag=tsp.dd.crafting.imbuement.id.ileggings,scores={tsp.dd.imbueTime=0,tsp.success=1}] run data merge entity @s {Item:{id:"minecraft:iron_leggings",Count:1b,tag:{display:{Name:"{\"text\":\"Imbued Leggings\",\"italic\":false}"},AttributeModifiers:[{AttributeName:"generic.knockbackResistance",Name:"generic.knockbackResistance",Amount:.2,Operation:1,UUIDLeast:734924,UUIDMost:707411,Slot:"legs"},{AttributeName:"generic.armor",Name:"generic.armor",Amount:5,Operation:0,UUIDLeast:548743,UUIDMost:753425,Slot:"legs"}]}}}

#/give @p minecraft:iron_leggings{display:{Name:"{\"text\":\"Imbued Leggings\",\"italic\":false}"},AttributeModifiers:[{AttributeName:"generic.knockbackResistance",Name:"generic.knockbackResistance",Amount:.2,Operation:1,UUIDLeast:734924,UUIDMost:707411,Slot:"legs"},{AttributeName:"generic.armor",Name:"generic.armor",Amount:5,Operation:0,UUIDLeast:548743,UUIDMost:753425,Slot:"legs"}]} 1
